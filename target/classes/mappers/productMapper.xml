<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.itwillbs.mapper.ProductMapper">
	
	<!-- 상품 목록 조회(all)-->
	<select id="listAll" resultType="ProductVO">
		select * from mfg_products
		where category = #{category}
	</select>
	
	<!-- 상품 목록 조회(성별)-->
	<select id="listAll2" resultType="ProductVO">
		select * from mfg_products
		where category = #{category}
		and gender = #{gender}
	</select>

	<!-- 상품 등록 -->
	<insert id="insert">
		insert into mfg_products (seller_id, prod_name, prod_img, price, detail, `condition`, category, gender)
		values (#{seller_id}, #{prod_name}, #{prod_img}, #{price}, #{detail}, #{condition}, #{category}, #{gender})
	</insert>
	
	<resultMap type="com.itwillbs.domain.BoardVO" id="vo">
		<result property="content" column="content"/>
	</resultMap>
	
	<select id="read" resultType="BoardVO">
		select * from tbl_board 
		where bno = #{bno}
	</select>
	
	<update id="updateReadCnt">
		update tbl_board 
		set viewcnt=viewcnt+1 
		where bno = #{bno}	
	</update>
	
	<update id="updateBoard">
	  update tbl_board 
	  set title=#{title},writer=#{writer},content=#{content} 
	  where bno=#{bno}	   
	</update>
	
	<delete id="remove">
		delete from tbl_board where bno=#{bno}	
	</delete>
	
	<select id="listPage" resultType="BoardVO">
	  select * from tbl_board 
	  order by bno desc, regdate desc 
	  limit #{page},10
	</select>
	
	<select id="listPage2" resultType="BoardVO">
	  select * from tbl_board 
	  order by bno desc, regdate desc 
	  limit #{page},#{pageSize}
	</select>
	
	<select id="listPage3" resultType="BoardVO">
	  select * from tbl_board 
	  order by bno desc, regdate desc 
	  limit #{pageStart},#{perPageNum}
	</select>
	
	
	
	
	

</mapper>